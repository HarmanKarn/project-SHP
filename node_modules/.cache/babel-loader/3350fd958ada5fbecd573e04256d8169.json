{"remainingRequest":"C:\\Users\\yfl\\Desktop\\project-SHP\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yfl\\Desktop\\project-SHP\\app\\src\\store\\shopcart\\index.js","dependencies":[{"path":"C:\\Users\\yfl\\Desktop\\project-SHP\\app\\src\\store\\shopcart\\index.js","mtime":1639480771998},{"path":"C:\\Users\\yfl\\Desktop\\project-SHP\\app\\babel.config.js","mtime":1638937180521},{"path":"C:\\Users\\yfl\\Desktop\\project-SHP\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638940635504},{"path":"C:\\Users\\yfl\\Desktop\\project-SHP\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1638940636347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xceWZsXFxEZXNrdG9wXFxwcm9qZWN0LVNIUFxcYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZXFDYXJ0TGlzdCwgcmVxRGVsZXRlQ2FydEJ5SWQsIHJlcVVwZGF0ZUNoZWNrZWRCeUlkIH0gZnJvbSAnQC9hcGknOwp2YXIgc3RhdGUgPSB7CiAgY2FydExpc3Q6IFtdCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgR0VUQ0FSVExJU1Q6IGZ1bmN0aW9uIEdFVENBUlRMSVNUKHN0YXRlLCBjYXJ0TGlzdCkgewogICAgc3RhdGUuY2FydExpc3QgPSBjYXJ0TGlzdDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8v6I635Y+W6LSt54mp6L2m5YiX6KGo5pWw5o2uCiAgZ2V0Q2FydExpc3Q6IGZ1bmN0aW9uIGdldENhcnRMaXN0KF9yZWYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXFDYXJ0TGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgiR0VUQ0FSVExJU1QiLCByZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgLy/liKDpmaTotK3nianovabkuqflk4EKICBkZWxldGVDYXJ0TGlzdEJ5U2t1SWQ6IGZ1bmN0aW9uIGRlbGV0ZUNhcnRMaXN0QnlTa3VJZChfcmVmMiwgc2t1SWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxRGVsZXRlQ2FydEJ5SWQoc2t1SWQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIC8v5L+u5pS56LSt54mp6L2m5p+Q5LiA5Liq5Lqn5ZOB55qE6YCJ5Lit54q25oCBCiAgdXBkYXRlQ2hlY2tlZEJ5SWQ6IGZ1bmN0aW9uIHVwZGF0ZUNoZWNrZWRCeUlkKF9yZWYzLCBfcmVmNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIHNrdUlkLCBpc0NoZWNrZWQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgc2t1SWQgPSBfcmVmNC5za3VJZCwgaXNDaGVja2VkID0gX3JlZjQuaXNDaGVja2VkOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVxVXBkYXRlQ2hlY2tlZEJ5SWQoc2t1SWQsIGlzQ2hlY2tlZCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsICdvaycpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ZhaWxlJykpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIC8v5Yig6Zmk5YWo6YOo5Yu+6YCJ55qE5Lqn5ZOBCiAgZGVsZXRlQWxsQ2hlY2tlZENhcnQ6IGZ1bmN0aW9uIGRlbGV0ZUFsbENoZWNrZWRDYXJ0KF9yZWY1KSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaCwKICAgICAgICBnZXR0ZXJzID0gX3JlZjUuZ2V0dGVyczsKICAgIC8vY29udGV4dDrlsI/ku5PlupMsY29tbWl0W+aPkOS6pG11dGF0aW9uc+S/ruaUuXN0YXRlXSxnZXR0ZXJzW+iuoeeul+WxnuaAp10sZGlzcGF0Y2hb5rS+5Y+RYWN0aW9uXSxzdGF0ZXBb5b2T5YmN5LuT5bqT5pWw5o2uXQogICAgLy/ojrflj5botK3nianovabkuK3lhajpg6jnmoTkuqflk4Eo5piv5pWw57uEKQogICAgdmFyIFByb21pc2VBbGwgPSBbXTsKICAgIGdldHRlcnMuY2FydExpc3QuY2FydEluZm9MaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIHByb21pc2UgPSBpdGVtLmlzQ2hlY2tlZCA9PSAxID8gZGlzcGF0Y2goJ2RlbGV0ZUNhcnRMaXN0QnlTa3VJZCcsIGl0ZW0uc2t1SWQpIDogJyc7IC8v5bCG5q+P5LiA5qyh6L+U5Zue55qEUHJvbWlzZea3u+WKoOWIsOaVsOe7hOW9k+S4rQoKICAgICAgUHJvbWlzZUFsbC5wdXNoKHByb21pc2UpOwogICAgfSk7IC8v5Y+q6KaB5YWo6YOo55qEUHJvbWlzZeaVsOe7hOmDveaIkOWKnyzov5Tlm57miJDlip8s5YW25Lit5LiA5Liq5aSx6LSlLOi/lOWbnuaXouS4uuWksei0pee7k+aenAoKICAgIHJldHVybiBQcm9taXNlLmFsbChQcm9taXNlQWxsKTsKICB9LAogIC8v5L+u5pS55YWo6YOo5Lqn5ZOB54q25oCBCiAgdXBkYXRlQWxsQ2FydElzQ2hlY2tlZDogZnVuY3Rpb24gdXBkYXRlQWxsQ2FydElzQ2hlY2tlZChfcmVmNiwgaXNDaGVja2VkKSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmNi5kaXNwYXRjaCwKICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlOwogICAgdmFyIHByb21pc2VBbGwgPSBbXTsKICAgIHN0YXRlLmNhcnRMaXN0WzBdLmNhcnRJbmZvTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBwcm9taXNlID0gZGlzcGF0Y2goJ3VwZGF0ZUNoZWNrZWRCeUlkJywgewogICAgICAgIHNrdUlkOiBpdGVtLnNrdUlkLAogICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkCiAgICAgIH0pOwogICAgICBwcm9taXNlQWxsLnB1c2gocHJvbWlzZSk7CiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlQWxsKTsKICB9Cn07CnZhciBnZXR0ZXJzID0gewogIGNhcnRMaXN0OiBmdW5jdGlvbiBjYXJ0TGlzdChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNhcnRMaXN0WzBdIHx8IHt9OwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["C:/Users/yfl/Desktop/project-SHP/app/src/store/shopcart/index.js"],"names":["reqCartList","reqDeleteCartById","reqUpdateCheckedById","state","cartList","mutations","GETCARTLIST","actions","getCartList","commit","result","code","data","deleteCartListBySkuId","skuId","Promise","reject","Error","updateCheckedById","isChecked","deleteAllCheckedCart","dispatch","getters","PromiseAll","cartInfoList","forEach","item","promise","push","all","updateAllCartIsChecked","promiseAll"],"mappings":"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","sourcesContent":["import {reqCartList,reqDeleteCartById,reqUpdateCheckedById} from '@/api'\r\nconst state = {\r\n    cartList:[]\r\n};\r\nconst mutations = {\r\n    GETCARTLIST(state,cartList){\r\n        state.cartList = cartList\r\n    }\r\n};\r\nconst actions = {\r\n    //获取购物车列表数据\r\n    async getCartList({commit}){\r\n        let result = await reqCartList()\r\n        if(result.code == 200){\r\n            commit(\"GETCARTLIST\",result.data)\r\n        }\r\n    },\r\n    //删除购物车产品\r\n    async deleteCartListBySkuId({commit},skuId){\r\n        let result = await reqDeleteCartById(skuId)\r\n        if(result.code == 200){\r\n            return 'ok';\r\n        }else{\r\n            return Promise.reject(new Error('faile'));\r\n        }\r\n    },\r\n    //修改购物车某一个产品的选中状态\r\n    async updateCheckedById({commit},{skuId,isChecked}){\r\n        let result = await reqUpdateCheckedById(skuId,isChecked)\r\n        if(result.code == 200){\r\n            return 'ok';\r\n        }else{\r\n            return Promise.reject(new Error('faile'));\r\n        }\r\n    },\r\n    //删除全部勾选的产品\r\n    deleteAllCheckedCart({dispatch,getters}){\r\n        //context:小仓库,commit[提交mutations修改state],getters[计算属性],dispatch[派发action],statep[当前仓库数据]\r\n        //获取购物车中全部的产品(是数组)\r\n        let PromiseAll = [];\r\n        getters.cartList.cartInfoList.forEach(item=>{\r\n            let promise = item.isChecked == 1 ? dispatch('deleteCartListBySkuId',item.skuId) : '';\r\n            //将每一次返回的Promise添加到数组当中\r\n            PromiseAll.push(promise);\r\n        });\r\n        //只要全部的Promise数组都成功,返回成功,其中一个失败,返回既为失败结果\r\n        return Promise.all(PromiseAll);\r\n    },\r\n    //修改全部产品状态\r\n    updateAllCartIsChecked({dispatch,state},isChecked){\r\n        let promiseAll = [];\r\n        state.cartList[0].cartInfoList.forEach(item=>{\r\n            let promise = dispatch('updateCheckedById',{skuId:item.skuId,isChecked})\r\n            promiseAll.push(promise);\r\n        });\r\n        return Promise.all(promiseAll)\r\n    }\r\n};\r\nconst getters = {\r\n    cartList(state){\r\n        return state.cartList[0] || {}\r\n    },\r\n\r\n};\r\nexport default {\r\n    state,mutations,actions,getters\r\n}"]}]}